---
import Layout from '../layouts/Default.astro';

const images = [
  'pool.jpg',
  'sunset.jpg',
  'interior.jpg',
  'fireplace.jpg',
  'citadel.jpg',
  'breakfast.jpg',
];

// helper to swap “.jpg” → “.webp”
const toWebp = (file: string) => file.replace('.jpg', '.webp');

// base URL will be "/" locally and "/sowk/" on GitHub Pages
const BASE = import.meta.env.BASE_URL;
---

<Layout title="Gallery · SOWK">
  <h1 style="margin:2rem 0;">Photo Gallery</h1>

  <div
    style="
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    "
  >
    {images.map((file) => (
      <picture>
        <source
          srcset={`${BASE}images/${toWebp(file)}`}
          type="image/webp"
        />
        <img
          src={`${BASE}images/${file}`}
          alt={file.split('.')[0]}
          style="width: 100%; border-radius: 8px;"
        />
      </picture>
    ))}
  </div>
</Layout>
